server {
  listen       80;
  server_name  localhost;

  #charset koi8-r;

  #access_log  logs/host.access.log  main;

  location / {
    root   /usr/share/nginx/html;
    index  index.html index.htm;
    add_header Cache-Control "no-cache";
    add_header Pragma "no-cache";
    add_header X-Xss-Protection "1; mode=block";
    add_header X-Frame-Options "SAMEORIGIN";
    add_header Content-Security-Policy "default-src *.lenovo.com https: data: blob: 'unsafe-inline' 'unsafe-eval'; img-src * data: blob:";
  }

  #error_page  404              /404.html;

  # redirect server error pages to the static page /50x.html
  #
  error_page   500 502 503 504  /50x.html;
  location = /50x.html {
    root   html;
  }

  location /portal/ {
    proxy_pass http://10.122.69.65:8890/;
    #proxy_pass http://10.109.17.165:8890/;
      add_header Cache-Control "no-store";
    add_header X-Xss-Protection "1; mode=block";
    add_header X-Frame-Options "SAMEORIGIN";
    add_header Content-Security-Policy "default-src *.lenovo.com https: data: blob: 'unsafe-inline' 'unsafe-eval'; img-src * data: blob:";
  }

  location /pf/ {
    proxy_pass http://10.122.69.161:7072;
      add_header Cache-Control "no-store";
    add_header X-Xss-Protection "1; mode=block";
    add_header X-Frame-Options "SAMEORIGIN";
    add_header Content-Security-Policy "default-src *.lenovo.com https: data: blob: 'unsafe-inline' 'unsafe-eval'";
  }

  location /auth/ {
    proxy_pass http://10.122.69.65:7071;
      add_header Cache-Control "no-store";
    add_header X-Xss-Protection "1; mode=block";
    add_header X-Frame-Options "SAMEORIGIN";
    add_header Content-Security-Policy "default-src *.lenovo.com https: data: blob: 'unsafe-inline' 'unsafe-eval'";
    proxy_cookie_path / "/; SameSite=Lax";
  }

  location /preview/ {
    proxy_pass http://10.122.69.65:8012/;
      add_header Cache-Control "no-store";
    add_header X-Xss-Protection "1; mode=block";
    add_header X-Frame-Options "SAMEORIGIN";
    add_header Content-Security-Policy "default-src https: data: 'unsafe-inline' 'unsafe-eval'";
  }

  location /dl/ {
    proxy_pass http://10.122.69.65:81/;
      add_header Cache-Control "no-store";
    add_header X-Xss-Protection "1; mode=block";
    add_header X-Frame-Options "SAMEORIGIN";
    add_header Content-Security-Policy "default-src https: data: 'unsafe-inline' 'unsafe-eval'";
  }

  location /fv/ {
    proxy_pass http://10.122.69.65:82/;
      add_header Cache-Control "no-store";
    add_header X-Xss-Protection "1; mode=block";
    add_header X-Frame-Options "SAMEORIGIN";
    add_header Content-Security-Policy "default-src https: data: 'unsafe-inline' 'unsafe-eval'";
  }

  location /sqm-web/ {
    proxy_pass http://10.122.72.171:8088/;
    #proxy_pass http://10.109.20.244:80/;
      add_header X-Xss-Protection "1; mode=block";
    add_header X-Frame-Options "SAMEORIGIN";
    add_header Content-Security-Policy "default-src *.lenovo.com https: data: blob: 'unsafe-inline' 'unsafe-eval'; img-src * data: blob:";
  }

  location /sqm {
    proxy_pass http://10.122.72.171:8090/sqm;
    #proxy_pass http://10.113.130.192:8090/sqm;
      add_header X-Xss-Protection "1; mode=block";
    add_header X-Frame-Options "SAMEORIGIN";
    add_header Content-Security-Policy "default-src *.lenovo.com https: data: blob: 'unsafe-inline' 'unsafe-eval'; img-src * data: blob:";
  }

  location /user-center {
    proxy_pass http://10.109.4.106:8085/user-center;
      add_header X-Xss-Protection "1; mode=block";
    add_header X-Frame-Options "SAMEORIGIN";
    add_header Content-Security-Policy "default-src *.lenovo.com https: data: blob: 'unsafe-inline' 'unsafe-eval'; img-src * data: blob:";
  }

  location /user-center-web/ {
    proxy_pass http://10.122.72.171:8087/;

      add_header X-Xss-Protection "1; mode=block";
    add_header X-Frame-Options "SAMEORIGIN";
    add_header Content-Security-Policy "default-src *.lenovo.com https: data: blob: 'unsafe-inline' 'unsafe-eval'; img-src * data: blob:";
  }

  location /mqm/ {
    proxy_pass http://10.122.72.171:8111;
      add_header X-Xss-Protection "1; mode=block";
    add_header X-Frame-Options "SAMEORIGIN";
    add_header Content-Security-Policy "default-src *.lenovo.com https: data: blob: 'unsafe-inline' 'unsafe-eval'; img-src * data: blob:";
  }

  location /qit/ {
    proxy_pass http://10.122.72.171:8888/;
      add_header X-Xss-Protection "1; mode=block";
    add_header X-Frame-Options "SAMEORIGIN";
    add_header Content-Security-Policy "default-src *.lenovo.com https: data: blob: 'unsafe-inline' 'unsafe-eval'; img-src * data: blob:";
  }
}